// Copyright 2016 Palantir Technologies, Inc. All rights reserved.
// Licensed under the terms of the LICENSE file distributed with this project.

@import "../tooltip/common";
@import "./common";

$handle-size: $pt-icon-size-standard !default;
$track-size: $handle-size - $pt-grid-size !default;
$label-offset: $handle-size + 4px !default;

// retain legacy variable aliases so as to not break consumers
$handle-height: $handle-size !default;
$track-height: $track-size !default;

.pt-slider {
  @include slider($pt-input-height-large);
  outline: none;
  user-select: none;

  &.pt-slider-unlabeled {
    height: $handle-size;
  }
}

.pt-slider-track,
.pt-slider-progress {
  @include slider-track($handle-size, $track-size);
}

.pt-slider-progress,
.pt-dark .pt-slider-progress {
  background: $pt-intent-primary;
}

.pt-slider-handle {
  @include slider-handle($handle-size, $track-size);

  .pt-slider-label {
    margin-left: $handle-size / 2;
    border-radius: $pt-border-radius;
    box-shadow: $pt-tooltip-box-shadow;
    background: $tooltip-background-color;
    color: $tooltip-text-color;

    .pt-dark & {
      box-shadow: $pt-dark-tooltip-box-shadow;
      background: $dark-tooltip-background-color;
      color: $dark-tooltip-text-color;
    }

    .pt-disabled & {
      box-shadow: none;
    }
  }
}

.pt-slider-label {
  @include slider-label($label-offset);
}

.pt-range-slider {
  .pt-slider-handle {
    width: $handle-size / 2;

    &:first-of-type {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

    &:last-of-type {
      margin-left: $handle-size / 2;
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;

      .pt-slider-label {
        margin-left: 0;
      }
    }
  }

  .pt-slider-progress {
    border-radius: 0;
  }
}

.pt-slider.pt-vertical {
  // width: 40px;
  // min-width: 40px;
  // height: 150px;
  @include slider($pt-input-height-large, $vertical: true);

  // .pt-slider-track {
  //   top: 0;
  //   left: 5px;
  //   width: 6px;
  //   height: 100%;
  // }
  .pt-slider-track,
  .pt-slider-progress {
    @include slider-track($handle-size, $track-size, $vertical: true);
  }

  // .pt-slider-progress {
  //   top: auto;
  //   bottom: 0;
  //   left: 5px !important;
  //   width: 6px !important;
  //   height: 50%;
  // }

  // .pt-slider-axis {
  //   position: relative;
  //   margin-left: 20px;
  // }

  // .pt-slider-label {
  //   // display: block;
  //   // left: auto !important;
  //   // transform: none;
  //   margin-left: 0;
  //   vertical-align: inherit;
  // }

  .pt-slider-label {
    @include slider-label($label-offset, $vertical: true);
  }

  .pt-slider-handle {
    // top: calc(100% - 16px);
    // left: 0 !important;

    .pt-slider-label {
      margin-left: 20px;
    }
  }
}
